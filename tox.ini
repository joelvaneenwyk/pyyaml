[tox]
envlist =
    py{27,36,37,38,39,310,311,py3}
    isort
requires =
    Cython >= 0.29.33
tox_pyenv_fallback = True
isolated_build = true
skip_missing_interpreters = true
minversion = 3.22

[testenv]
commands =
    {envpython} --version
    {envpython} setup.py build
    {envpython} tests/lib/run_all_tests.py
passenv = PYYAML_TEST_GROUP

[testenv:mypy]
skip_install = true
usedevelop = false
deps =
    mypy
changedir = {toxinidir}
commands =
    {envpython} -m mypy .

[testenv:isort]
skip_install = true
usedevelop = false
deps =
    isort
changedir = {toxinidir}
commands =
    {envpython} -m isort tests/lib/ lib/ examples/
